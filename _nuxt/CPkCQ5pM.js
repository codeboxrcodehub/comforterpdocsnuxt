import{f as g,h,a2 as w,D as u,c as b,b as t,k as c,w as l,l as a,F as p,o,a3 as z,n as k,aP as D,aQ as C,aR as R,aS as v,aT as y,aU as T,aV as B,aW as x,aq as S,aX as W}from"#entry";const U=g({__name:"ProseImg",props:{src:{default:""},alt:{default:""},width:{},height:{},lifted:{type:Boolean,default:!1},zoom:{type:Boolean,default:()=>{}},class:{default:""}},setup(s){const f=h(),[m,d]=w(),n=u(()=>{if(s.src?.startsWith("/")&&!s.src.startsWith("//")){const e=B(x(S().app.baseURL));if(e!=="/"&&!s.src.startsWith(e))return W(e,s.src)}return s.src}),i=u(()=>s.zoom===void 0?f.value.main.imageZoom:s.zoom);return(e,L)=>{const r=z;return o(),b(p,null,[t(a(m),null,{default:l(()=>[t(r,{src:a(n),alt:e.alt,width:e.width,height:e.height,class:k(["rounded-md",[e.lifted&&"rounded-lg border bg-card text-card-foreground shadow-xs",a(i)&&"cursor-zoom-in",s.class]])},null,8,["src","alt","width","height","class"])]),_:1}),a(i)?(o(),c(a(T),{key:0},{default:l(()=>[t(a(D),{class:"block w-full"},{default:l(()=>[t(a(d))]),_:1}),t(a(y),null,{default:l(()=>[t(a(C),{class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80"}),t(a(R),{class:"p-0 fixed left-1/2 top-1/2 z-50 grid -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg"},{default:l(()=>[t(a(v),null,{default:l(()=>[t(r,{src:a(n),alt:e.alt,width:e.width,height:e.height,class:"md:rounded-lg cursor-zoom-out max-w-svw max-h-svh"},null,8,["src","alt","width","height"])]),_:1})]),_:1})]),_:1})]),_:1})):(o(),c(a(d),{key:1}))],64)}}});export{U as _};
